(this["webpackJsonptensorflowjs-app"]=this["webpackJsonptensorflowjs-app"]||[]).push([[0],{283:function(e,t){},284:function(e,t){},292:function(e,t){},295:function(e,t){},296:function(e,t){},297:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var c=n(38),r=n(73),i=n(232),a=n.n(i),s=n(6),l=n(108),o=n(4),d=n.n(o),j=n(12),u=n(75),b={sgd:{libelle:"sgd",fn:function(e){return u.d.sgd(e)}},adam:{libelle:"adam",fn:function(e){return u.d.adam(e)}},adagrad:{libelle:"adagrad",fn:function(e){return u.d.adagrad(e)}},adadelta:{libelle:"adadelta",fn:function(e){return u.d.adadelta(e)}},momentum:{libelle:"momentum",fn:function(e){return u.d.momentum(e,1)}},rmsprop:{libelle:"rmsprop",fn:function(e){return u.d.rmsprop(e)}}};function h(e){var t=e.units,n=void 0===t?1:t,c=e.learningRate,r=void 0===c?.01:c,i=e.optimizer,a=void 0===i?"adam":i,s=u.b();return s.add(u.a.dense({units:n,inputShape:[1]})),s.compile({optimizer:function(e){return b[e].fn(r)}(a),loss:"meanSquaredError"}),s}function O(){return(O=Object(j.a)(d.a.mark((function e(t,n,c){var r,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>3&&void 0!==i[3]?i[3]:150,e.next=3,t.fit(n,c,{epochs:r});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(0),f={optimizer:"adam",learningRate:.01,epochs:50};function m(e,t){switch(t.type){case"SET_OPTIMIZER":return Object(l.a)(Object(l.a)({},e),{},{optimizer:t.value});case"SET_LEARNINGRATE":return Object(l.a)(Object(l.a)({},e),{},{learningRate:parseFloat(t.value)});case"SET_EPOCHS":return Object(l.a)(Object(l.a)({},e),{},{epochs:parseInt(t.value)});default:return e}}var x=function(){var e=[u.c([0,2,4,7,10,20,50],[7,1]),u.c([5,9,13,19,25,45,105],[7,1])],t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(r.useReducer)(m,f),l=Object(s.a)(a,2),o=l[0],d=l[1],j=Object(r.useState)(!0),x=Object(s.a)(j,2),g=x[0],v=x[1],E=Object(r.useState)(0),S=Object(s.a)(E,2),y=S[0],R=S[1],T=Object(r.useState)(""),w=Object(s.a)(T,2),F=w[0],I=w[1],C=Object(r.useState)(2*y+5),z=Object(s.a)(C,2),M=z[0],P=z[1],_=Object(r.useState)(h(o)),k=Object(s.a)(_,2),N=k[0],A=k[1],L=function(e){return function(t){d({type:e,value:t.target.value})}};return Object(r.useEffect)((function(){R(0),I("0"),A(h(o))}),[o]),Object(r.useEffect)((function(){P(2*y+5),N.predict(p.Rd([y])).data().then((function(e){return I(parseFloat(e).toFixed(2).toString())}))}),[y]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Tensorflowjs in React"}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"1. Data"}),Object(c.jsx)("table",{children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"input"}),n.arraySync().map((function(e){return Object(c.jsx)("td",{children:e},e)}))]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"label"}),i.arraySync().map((function(e){return Object(c.jsx)("td",{children:e},e)}))]})]})})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"2. Model"}),Object(c.jsx)("label",{htmlFor:"optiFn",children:"Optimizer function"}),Object(c.jsx)("select",{id:"optiFn",value:o.optimizer,onChange:L("SET_OPTIMIZER"),children:Object.keys(b).map((function(e){return Object(c.jsx)("option",{value:b[e].libelle,children:b[e].libelle},e)}))}),Object(c.jsx)("label",{htmlFor:"learningRate",children:"Learning rate"}),Object(c.jsx)("input",{id:"learningRate",value:o.learningRate,onChange:L("SET_LEARNINGRATE"),disabled:!g,type:"number"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"3. Training"}),Object(c.jsx)("label",{htmlFor:"epochs",children:"Epochs"}),Object(c.jsx)("input",{id:"epochs",value:o.epochs,onChange:L("SET_EPOCHS"),disabled:!g,type:"number"}),Object(c.jsx)("div",{children:"".concat(g?"Model is ready":"Model is training...")}),Object(c.jsx)("button",{onClick:function(){v(!1),function(e,t,n){return O.apply(this,arguments)}(N,n,i,o.epochs).then((function(){return v(!0)}))},disabled:!g,children:"Train model"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"4. Predict"}),Object(c.jsx)("label",{htmlFor:"target",children:"Input"}),Object(c.jsx)("input",{id:"target",value:y,onChange:function(e){R(Number(e.target.value))},disabled:!g,type:"number"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"5. Results"}),Object(c.jsxs)("p",{children:["Expected result : ","".concat(y," * 2 + 5 = "),Object(c.jsx)("strong",{children:M})]}),Object(c.jsxs)("p",{children:["Predicted result :",Object(c.jsxs)("strong",{children:[" ",F," "]})]})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("a",{href:"https://github.com/ermineaweb/tensorflowjs-react-linear",children:"Sources"}),Object(c.jsx)("a",{href:"https://romainamichaud.com",children:"My blog"})]})]})};n(297);a.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[298,1,2]]]);
//# sourceMappingURL=main.eccded34.chunk.js.map