(this["webpackJsonptensorflowjs-app"]=this["webpackJsonptensorflowjs-app"]||[]).push([[0],{283:function(e,t){},284:function(e,t){},292:function(e,t){},295:function(e,t){},296:function(e,t){},297:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var c=n(38),r=n(73),a=n(232),i=n.n(a),s=n(6),l=n(108),o=n(4),d=n.n(o),u=n(12),j=n(75),b={sgd:{libelle:"sgd",fn:function(e){return j.d.sgd(e)}},adam:{libelle:"adam",fn:function(e){return j.d.adam(e)}},adagrad:{libelle:"adagrad",fn:function(e){return j.d.adagrad(e)}},adadelta:{libelle:"adadelta",fn:function(e){return j.d.adadelta(e)}},momentum:{libelle:"momentum",fn:function(e){return j.d.momentum(e,1)}},rmsprop:{libelle:"rmsprop",fn:function(e){return j.d.rmsprop(e)}}};function h(e){var t=e.units,n=void 0===t?1:t,c=e.learningRate,r=void 0===c?.01:c,a=e.optimizer,i=void 0===a?"adam":a,s=j.b();return s.add(j.a.dense({units:n,inputShape:[1]})),s.compile({optimizer:function(e){return b[e].fn(r)}(i),loss:"meanSquaredError"}),s}function O(){return(O=Object(u.a)(d.a.mark((function e(t,n,c){var r,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>3&&void 0!==a[3]?a[3]:150,e.next=3,t.fit(n,c,{epochs:r});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(0),f={optimizer:"adam",learningRate:.01,epochs:50};function x(e,t){switch(t.type){case"SET_OPTIMIZER":return Object(l.a)(Object(l.a)({},e),{},{optimizer:t.value});case"SET_LEARNINGRATE":return Object(l.a)(Object(l.a)({},e),{},{learningRate:parseFloat(t.value)});case"SET_EPOCHS":return Object(l.a)(Object(l.a)({},e),{},{epochs:parseInt(t.value)});default:return e}}var m=function(){var e=[j.c([0,2,4,7,10,20,50],[7,1]),j.c([5,9,13,19,25,45,105],[7,1])],t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(r.useReducer)(x,f),l=Object(s.a)(i,2),o=l[0],d=l[1],u=Object(r.useState)(!0),m=Object(s.a)(u,2),g=m[0],v=m[1],E=Object(r.useState)(0),S=Object(s.a)(E,2),R=S[0],y=S[1],T=Object(r.useState)(""),F=Object(s.a)(T,2),I=F[0],w=F[1],C=Object(r.useState)(2*R+5),P=Object(s.a)(C,2),_=P[0],k=P[1],z=Object(r.useState)(h(o)),M=Object(s.a)(z,2),N=M[0],A=M[1],L=function(e){return function(t){d({type:e,value:t.target.value})}};return Object(r.useEffect)((function(){y(0),w("0"),A(h(o))}),[o]),Object(r.useEffect)((function(){k(2*R+5),N.predict(p.Rd([R])).data().then((function(e){return w(parseFloat(e).toFixed(2).toString())}))}),[R]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Tensorflowjs in React"}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"1. Data"}),Object(c.jsx)("table",{children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"input"}),n.arraySync().map((function(e){return Object(c.jsx)("td",{children:e},e)}))]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"label"}),a.arraySync().map((function(e){return Object(c.jsx)("td",{children:e},e)}))]})]})})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"2. Model"}),Object(c.jsx)("label",{htmlFor:"lossFn",children:"Loss function"}),Object(c.jsx)("select",{id:"lossFn",value:o.optimizer,onChange:L("SET_OPTIMIZER"),children:Object.keys(b).map((function(e){return Object(c.jsx)("option",{value:b[e].libelle,children:b[e].libelle},e)}))}),Object(c.jsx)("label",{htmlFor:"learningRate",children:"Learning rate"}),Object(c.jsx)("input",{id:"learningRate",value:o.learningRate,onChange:L("SET_LEARNINGRATE"),disabled:!g,type:"number"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"3. Training"}),Object(c.jsx)("label",{htmlFor:"epochs",children:"Epochs"}),Object(c.jsx)("input",{id:"epochs",value:o.epochs,onChange:L("SET_EPOCHS"),disabled:!g,type:"number"}),Object(c.jsx)("div",{children:"".concat(g?"Model is ready":"Model is training...")}),Object(c.jsx)("button",{onClick:function(){v(!1),function(e,t,n){return O.apply(this,arguments)}(N,n,a,o.epochs).then((function(){return v(!0)}))},disabled:!g,children:"Train model"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"4. Predict"}),Object(c.jsx)("label",{htmlFor:"target",children:"Input"}),Object(c.jsx)("input",{id:"target",value:R,onChange:function(e){y(Number(e.target.value))},disabled:!g,type:"number"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{children:"5. Results"}),Object(c.jsxs)("p",{children:["Expected result : ","".concat(R," * 2 + 5 = "),Object(c.jsx)("strong",{children:_})]}),Object(c.jsxs)("p",{children:["Predicted result :",Object(c.jsxs)("strong",{children:[" ",I," "]})]})]})]})};n(297);i.a.render(Object(c.jsx)(m,{}),document.getElementById("root"))}},[[298,1,2]]]);
//# sourceMappingURL=main.0f891e67.chunk.js.map